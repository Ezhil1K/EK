<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Portfolio{% endblock %}</title>
    
    <!-- 
      This links to the local output.css file.
      This is correct for your Vercel build setup.
    -->
    <link href="{{ url_for('static', filename='dist/output.css') }}" rel="stylesheet">
    
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap" rel="stylesheet">
    <style>
        /* Apply the Inter font globally */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f7f7f7;
            scroll-behavior: smooth;
        }

        /* Custom animations */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .animate-fadeInUp {
            animation: fadeInUp 0.6s ease-out forwards;
            opacity: 0; /* Start invisible */
        }
    </style>
    
</head>
<body class="text-gray-900">

    {# -------------------------------------- #}
    {# 1. HEADER / NAVIGATION (Logo is here) #}
    {# -------------------------------------- #}
    <header class="fixed top-0 left-0 right-0 z-50 bg-white shadow-lg transition-all duration-300">
        <nav class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-20">
                <div class="flex items-center">
                    <a href="/" class="flex-shrink-0">
                        <img src="{{ url_for('static', filename='images/logo_ek.png') }}" 
                             alt="{{ data.initials | default('TS') }} Specialist Logo" 
                             class="h-10 w-auto">
                    </a>
                </div>
                <div class="hidden md:block">
                    <div class="ml-10 flex items-baseline space-x-4">
                        <a href="{{ url_for('index') }}#hero" class="text-gray-600 hover:bg-primary-red hover:text-white px-3 py-2 rounded-lg text-sm font-medium transition duration-200">Home</a>
                        <a href="{{ url_for('index') }}#about" class="text-gray-600 hover:bg-primary-red hover:text-white px-3 py-2 rounded-lg text-sm font-medium transition duration-200">About</a>
                        <a href="{{ url_for('index') }}#competencies" class="text-gray-600 hover:bg-primary-red hover:text-white px-3 py-2 rounded-lg text-sm font-medium transition duration-200">Competencies</a>
                        <a href="{{ url_for('index') }}#casestudies" class="text-gray-600 hover:bg-primary-red hover:text-white px-3 py-2 rounded-lg text-sm font-medium transition duration-200">Case Studies</a>
                        <a href="{{ url_for('index') }}#articles" class="text-gray-600 hover:bg-primary-red hover:text-white px-3 py-2 rounded-lg text-sm font-medium transition duration-200">Insights</a>
                    </div>
                </div>
                <div class="md:hidden">
                    <button id="mobile-menu-button" class="inline-flex items-center justify-center p-2 rounded-lg text-gray-700 hover:text-primary-red hover:bg-gray-100 focus:outline-none transition duration-200" aria-expanded="false">
                        <svg class="block h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7" />
                        </svg>
                    </button>
                </div>
            </div>
        </nav>

        {# Mobile Menu #}
        <div class="md:hidden hidden" id="mobile-menu">
            <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3">
                <a href="{{ url_for('index') }}#hero" class="text-gray-600 hover:bg-primary-red hover:text-white block px-3 py-2 rounded-lg text-base font-medium transition duration-200">Home</a>
                <a href="{{ url_for('index') }}#about" class="text-gray-600 hover:bg-primary-red hover:text-white block px-3 py-2 rounded-lg text-base font-medium transition duration-200">About</a>
                <a href="{{ url_for('index') }}#competencies" class="text-gray-600 hover:bg-primary-red hover:text-white block px-3 py-2 rounded-lg text-base font-medium transition duration-200">Competencies</a>
                <a href="{{ url_for('index') }}#casestudies" class="text-gray-600 hover:bg-primary-red hover:text-white block px-3 py-2 rounded-lg text-base font-medium transition duration-200">Case Studies</a>
                <a href="{{ url_for('index') }}#articles" class="text-gray-600 hover:bg-primary-red hover:text-white block px-3 py-2 rounded-lg text-base font-medium transition duration-200">Insights</a>
            </div>
        </div>
    </header>

    {# -------------------------------------- #}
    {# 2. MAIN CONTENT BLOCK #}
    {# -------------------------------------- #}
    <main class="pt-20">
        {% block content %}{% endblock %}
    </main>

    {# -------------------------------------- #}
    {# 3. FLOATING CTA BUTTONS #}
    {# -------------------------------------- #}
    <div class="fixed bottom-6 right-6 z-50 space-y-3">
        
        {# 3.1. Call Button #}
        <a href="tel:{{ data.phone_number | default('#') }}"
           class="group block relative w-16 h-16 bg-primary-red rounded-full shadow-xl text-white transition-all duration-300 overflow-hidden hover:w-56 hover:bg-white hover:text-primary-red" 
           aria-label="Call Me">
            
            <svg class="w-8 h-8 absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 group-hover:left-4 group-hover:translate-x-0 transition-all duration-300" 
                 fill="currentColor" viewBox="0 0 24 24"><path d="M20.001 16.687l-3.321-1.789c-.569-.307-1.29-.153-1.685.354l-1.049 1.34c-1.666-1.03-3.69-3.05-4.721-4.717l1.34-1.049c.507-.395.661-1.116.354-1.685l-1.789-3.32c-.307-.568-1.028-.875-1.68-.535l-2.616 1.39c-1.077.57-1.674 1.76-1.46 2.95 1.09 5.86 5.86 10.63 11.72 11.72 1.19.214 2.38-.383 2.95-1.46l1.39-2.616c.339-.652.032-1.373-.537-1.68z"/></svg>
            
            <span class="absolute top-1/2 -translate-y-1/2 text-base font-semibold whitespace-nowrap opacity-0 left-10 group-hover:opacity-100 group-hover:left-14 transition-all duration-300 delay-100">
                Call Me
            </span>
        </a>

        {# 3.2. email Me (MAIL) #}
        <a href="mailto:{{ data.email_address | default('#') }}"
           class="group block relative w-16 h-16 bg-primary-red rounded-full shadow-xl text-white transition-all duration-300 overflow-hidden hover:w-72 hover:bg-white hover:text-primary-red" 
           aria-label="email Me">
            
            <svg class="w-8 h-8 absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 group-hover:left-4 group-hover:translate-x-0 transition-all duration-300" 
                 fill="currentColor" viewBox="0 0 24 24"><path d="M0 4c0-1.104.896-2 2-2h20c1.104 0 2 .896 2 2v16c0 1.104-.896 2-2 2h-20c-1.104 0-2-.896-2-2v-16zm2 0v.696l10 7.5 10-7.5v-.696h-20zm0 16h20v-11.458l-10 7.5-10-7.5v11.458z"/></svg>
            
            <span class="absolute top-1/2 -translate-y-1/2 text-base font-semibold whitespace-nowrap opacity-0 left-10 group-hover:opacity-100 group-hover:left-14 transition-all duration-300 delay-100">
                email Me
            </span>
        </a>

        {# 3.3. LinkedIn Button #}
        <a href="{{ data.social_media.linkedin | default('#') }}" target="_blank"
           class="group block relative w-16 h-16 bg-primary-red rounded-full shadow-xl text-white transition-all duration-300 overflow-hidden hover:w-56 hover:bg-white hover:text-primary-red" 
           aria-label="LinkedIn">
            
            <svg class="w-8 h-8 absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 group-hover:left-4 group-hover:translate-x-0 transition-all duration-300" 
                 fill="currentColor" viewBox="0 0 24 24"><path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.317-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"/></svg>
            
            <span class="absolute top-1/2 -translate-y-1/2 text-base font-semibold whitespace-nowrap opacity-0 left-10 group-hover:opacity-100 group-hover:left-14 transition-all duration-300 delay-100">
                LinkedIn Profile
            </span>
        </a>
    </div>

    {# -------------------------------------- #}
    {# 4. FOOTER (NEW WHITE DESIGN) #}
    {# -------------------------------------- #}
    <footer class="bg-white text-gray-900 py-12 border-t-4 border-primary-red/50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                
                {# Column 1: Brand & Summary (Updated) #}
                <div class="md:col-span-2"> <!-- Give brand section more space -->
                    <a href="/" class="flex items-center space-x-3 mb-4">
                        <img src="{{ url_for('static', filename='images/logo_ek.png') }}" 
                             alt="{{ data.initials | default('TS') }} Specialist Logo" 
                             class="h-10 w-auto">
                        <span class="text-xl font-semibold text-gray-800">
                            Technical Specialist
                        </span>
                    </a>
                    <p class="text-gray-600 text-sm">
                        Cleanliness & Rust Prevention
                    </p>
                </div>

                {# Column 2: Quick Links (Updated) #}
                <div>
                    <h4 class="text-lg font-semibold mb-4 text-primary-red">Quick Links</h4>
                    <ul class="space-y-2">
                        <li><a href="{{ url_for('index') }}#about" class="text-gray-600 hover:text-primary-red transition duration-200 text-sm">About Me</a></li>
                        <li><a href="{{ url_for('index') }}#competencies" class="text-gray-600 hover:text-primary-red transition duration-200 text-sm">My Expertise</a></li>
                        <li><a href="{{ url_for('index') }}#casestudies" class="text-gray-600 hover:text-primary-red transition duration-200 text-sm">Case Studies</a></li>
                        <li><a href="{{ url_for('index') }}#articles" class="text-gray-600 hover:text-primary-red transition duration-200 text-sm">Technical Insights</a></li>
                    </ul>
                </div>

                {# Column 3 & 4: Removed as requested #}

            </div>
            
            <div class="mt-12 pt-6 border-t border-gray-200 text-center">
                <p class="text-sm text-gray-500">&copy; {{ current_year | default('2025') }} {{ data.full_name | default('Technical Specialist') }}. All rights reserved.</p>
            </div>
        </div>
    </footer>

    {# -------------------------------------- #}
    {# 5. JAVASCRIPT FOR MOBILE MENU #}
    {# -------------------------------------- #}
    <script>
        const mobileMenuButton = document.getElementById('mobile-menu-button');
        const mobileMenu = document.getElementById('mobile-menu');

        mobileMenuButton.addEventListener('click', () => {
            const isExpanded = mobileMenuButton.getAttribute('aria-expanded') === 'true' || false;
            mobileMenuButton.setAttribute('aria-expanded', !isExpanded);
            mobileMenu.classList.toggle('hidden');
        });

        // Close mobile menu when a link is clicked
        const mobileLinks = mobileMenu.querySelectorAll('a');
        mobileLinks.forEach(link => {
            link.addEventListener('click', () => {
                mobileMenu.classList.add('hidden');
                mobileMenuButton.setAttribute('aria-expanded', 'false');
            });
        });
    </script>
</body>
</html>
