<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Technical Specialist Portfolio - Dynamic</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
        body { font-family: 'Inter', sans-serif; background-color: #f7f9fb; }
        /* Custom gradient for the header to ensure text is visible over the video */
        .header-bg {
            background: linear-gradient(180deg, rgba(0,0,0,0.6) 0%, rgba(0,0,0,0) 100%);
            transition: background-color 0.3s ease;
        }
        .scrolled {
            background-color: rgba(17, 24, 39, 0.95); /* Darker background when scrolled */
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
    </style>

    <!-- Google Analytics (GA4) Code - Measurement ID: G-365191627 -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-365191627"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-365191627');
    </script>
</head>

<body>
    {% if data is defined %}
    <!-- Navigation Bar - Fixed and Transparent -->
    <header id="navbar" class="fixed top-0 left-0 w-full z-50 py-4 header-bg">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8 flex justify-between items-center">
            <a href="#" class="text-2xl font-bold text-white tracking-widest hover:text-cyan-300 transition duration-300">
                Ezhilarasan.K
            </a>
            
            <!-- Desktop Navigation -->
            <nav class="hidden lg:flex space-x-8">
                {% set nav_links = [
                    ("Home", "#hero"), 
                    ("About", "#about"), 
                    ("Case Studies", "#casestudies"), 
                    ("Projects", "#projects"), 
                    ("Skills", "#skills"), 
                    ("Articles", "#articles"), 
                    ("Contact Me", "#contact")
                ] %}
                {% for name, href in nav_links %}
                    <a href="{{ href }}" class="text-white hover:text-cyan-300 transition duration-300 font-medium text-lg rounded-lg px-2 py-1">
                        {{ name }}
                    </a>
                {% endfor %}
            </nav>

            <!-- Mobile Menu Button -->
            <button id="mobile-menu-button" class="lg:hidden text-white focus:outline-none">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
            </button>
        </div>
        
        <!-- Mobile Menu (Hidden by default) -->
        <nav id="mobile-menu" class="lg:hidden hidden px-4 pt-2 pb-4 bg-gray-800 bg-opacity-95 mt-2 mx-4 rounded-lg shadow-xl">
             {% for name, href in nav_links %}
                 <a href="{{ href }}" class="block text-white hover:text-cyan-300 py-2 transition duration-300 border-b border-gray-700 last:border-b-0" onclick="document.getElementById('mobile-menu').classList.add('hidden');">
                     {{ name }}
                 </a>
             {% endfor %}
        </nav>
    </header>
    
    <!-- Hero Section with Looping Video -->
    <section id="hero" class="relative h-screen flex items-center justify-center overflow-hidden">
        <!-- Background Video -->
        <video autoplay loop muted playsinline class="absolute z-0 w-auto min-w-full min-h-full max-w-none object-cover">
            <source src="{{ data.hero_video_url }}" type="video/mp4">
            Your browser does not support the video tag.
        </video>

        <!-- Overlay to ensure text visibility -->
        <div class="absolute inset-0 bg-gray-900 opacity-60 z-10"></div>

        <!-- Hero Content -->
        <div class="z-20 text-center p-8 max-w-4xl mx-auto">
            <h1 class="text-5xl sm:text-7xl font-extrabold text-white leading-tight mb-4 animate-fadeInUp">
                Chemical System Technical Specialist
            </h1>
            <p class="text-xl sm:text-2xl text-cyan-300 font-light mb-8">
                Bridging Material Science, Technical Cleanliness, and Process Engineering
            </p>
            <a href="#casestudies" class="inline-block px-8 py-3 bg-cyan-500 text-white font-semibold text-lg rounded-full shadow-lg hover:bg-cyan-600 transition duration-300 transform hover:scale-105">
                View My Case Studies
            </a>
        </div>
    </section>

    <!-- Content Sections -->
    <main class="py-16">
        <!-- About Me Section -->
        <section id="about" class="container mx-auto px-4 py-12">
            <h2 class="text-4xl font-bold text-gray-800 mb-8 text-center border-b-4 border-cyan-500 inline-block pb-1">About Me</h2>
            <div class="max-w-4xl mx-auto text-lg text-gray-700 leading-relaxed bg-white p-8 rounded-xl shadow-lg">
                <p>{{ data.about_me }}</p>
            </div>
        </section>

        <!-- Case Studies Section (Dynamic) -->
        <section id="casestudies" class="bg-gray-100 py-16">
            <div class="container mx-auto px-4">
                <h2 class="text-4xl font-bold text-gray-800 mb-12 text-center">Technical Case Studies & Problem Solving</h2>
                
                <div class="grid md:grid-cols-2 lg:grid-cols-2 gap-8">
                    <!-- Jinja2 Loop for Case Studies -->
                    {% for case in data.casestudies %}
                    <div class="bg-white p-6 rounded-xl shadow-lg hover:shadow-2xl transition duration-300 border-t-4 border-cyan-500 flex flex-col justify-between">
                        <div>
                            <h3 class="text-2xl font-semibold text-gray-900 mb-3">{{ case.title }}</h3>
                            <p class="text-gray-600 mb-4">{{ case.summary }}</p>
                        </div>
                        <a href="{{ case.detail_link }}" class="text-cyan-600 font-medium hover:text-cyan-800 flex items-center self-start">
                            View Full Analysis 
                            <svg class="w-4 h-4 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path></svg>
                        </a>
                    </div>
                    {% endfor %}
                </div>
            </div>
        </section>

        <!-- Skills Section (Dynamic) -->
        <section id="skills" class="container mx-auto px-4 py-16">
            <h2 class="text-4xl font-bold text-gray-800 mb-12 text-center">Core Technical Skills</h2>
            <div class="max-w-4xl mx-auto grid grid-cols-2 sm:grid-cols-3 gap-4">
                <!-- Jinja2 Loop for Skills -->
                {% for skill in data.skills %}
                <div class="bg-white p-4 rounded-lg shadow border border-gray-200 text-center hover:bg-cyan-50 transition duration-200">
                    <p class="font-medium text-gray-800">{{ skill }}</p>
                </div>
                {% endfor %}
            </div>
        </section>
        
        <!-- Projects Section (Dynamic) -->
        <section id="projects" class="bg-gray-100 py-16">
            <div class="container mx-auto px-4">
                <h2 class="text-4xl font-bold text-gray-800 mb-12 text-center">Key Applications & Projects</h2>
                <div class="grid md:grid-cols-2 gap-8">
                    <!-- Jinja2 Loop for Projects -->
                    {% for project in data.projects %}
                    <div class="bg-white p-6 rounded-xl shadow-lg border-l-4 border-cyan-400 hover:shadow-xl transition duration-300">
                        <h3 class="text-2xl font-semibold text-gray-900 mb-3">{{ project.title }}</h3>
                        <p class="text-gray-600 mb-4">{{ project.summary }}</p>
                        <a href="{{ project.link }}" class="text-cyan-600 font-medium hover:text-cyan-800">
                            Explore App
                        </a>
                    </div>
                    {% endfor %}
                </div>
            </div>
        </section>

        <!-- Articles Section (Dynamic) -->
        <section id="articles" class="container mx-auto px-4 py-16">
            <h2 class="text-4xl font-bold text-gray-800 mb-12 text-center">Technical Articles & Insights</h2>
            <div class="max-w-4xl mx-auto space-y-6">
                <!-- Jinja2 Loop for Articles -->
                {% for article in data.articles %}
                <div class="bg-white p-5 rounded-lg shadow hover:shadow-md transition duration-300">
                    <h3 class="text-xl font-semibold text-gray-900 mb-1">{{ article.title }}</h3>
                    <p class="text-gray-600 mb-2">{{ article.summary }}</p>
                    <a href="{{ article.link }}" class="text-sm text-cyan-500 hover:text-cyan-700 font-medium">Read Article &rarr;</a>
                </div>
                {% endfor %}
            </div>
        </section>

        <!-- Contact Me Section -->
        <section id="contact" class="bg-gray-800 py-16">
            <div class="container mx-auto px-4 text-center">
                <h2 class="text-4xl font-bold text-white mb-6">Let's Connect</h2>
                <p class="text-gray-300 text-lg max-w-2xl mx-auto mb-8">
                    I am available for consultation on technical cleanliness auditing, failure analysis, and chemical process optimization.
                </p>
                <div class="flex flex-col sm:flex-row justify-center items-center space-y-4 sm:space-y-0 sm:space-x-6">
                    <a href="mailto:your.email@example.com" class="px-6 py-3 bg-cyan-500 text-white font-semibold rounded-full hover:bg-cyan-600 transition duration-300 shadow-lg">
                        Email Me
                    </a>
                    <a href="#" target="_blank" class="px-6 py-3 bg-white text-gray-800 font-semibold rounded-full hover:bg-gray-200 transition duration-300 shadow-lg">
                        Connect on LinkedIn
                    </a>
                </div>
            </div>
        </section>
    </main>

    <footer class="bg-gray-900 text-center p-6 text-gray-400">
        <p>&copy; 2024 Ezhilarasan.K | Dynamic Portfolio built with Flask & Vercel</p>
    </footer>
    {% endif %}

    <!-- JavaScript for Dynamic Navigation Bar & Mobile Menu -->
    <script>
        // Navbar transparency and scroll effect
        document.addEventListener('DOMContentLoaded', () => {
            const navbar = document.getElementById('navbar');
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');

            // Scroll listener for background change
            window.addEventListener('scroll', () => {
                if (window.scrollY > 50) {
                    navbar.classList.add('scrolled');
                } else {
                    navbar.classList.remove('scrolled');
                }
            });

            // Toggle mobile menu
            mobileMenuButton.addEventListener('click', () => {
                mobileMenu.classList.toggle('hidden');
            });
            
            // Close mobile menu when a link is clicked
            mobileMenu.querySelectorAll('a').forEach(link => {
                link.addEventListener('click', () => {
                    mobileMenu.classList.add('hidden');
                });
            });
        });
    </script>
</body>
</html>
